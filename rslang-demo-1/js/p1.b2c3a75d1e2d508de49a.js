(()=>{"use strict";var t={99:(t,e,n)=>{n.r(e)},289:(t,e,n)=>{n.r(e)},961:(t,e,n)=>{n.r(e)},233:(t,e,n)=>{n.r(e)},414:(t,e,n)=>{n.r(e)},934:(t,e,n)=>{n.r(e)},697:(t,e,n)=>{n.r(e)},470:(t,e,n)=>{n.r(e)},571:(t,e,n)=>{n.r(e)},655:(t,e,n)=>{n.r(e)},857:(t,e,n)=>{n.r(e)},477:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=o(n(536)),a=o(n(369)),s=o(n(810)),r=o(n(994)),l=o(n(311)),c=o(n(613)),d=o(n(941)),u=o(n(860)),h=n(441);e.default=class{constructor(t){this.root=t,this.currentController=new i.default(this.root)}start(){window.addEventListener("hashchange",(()=>{console.log("state.isAuth",h.state.isAuth),this.router()})),window.addEventListener("load",(()=>{h.state.isAuth=!!localStorage.getItem("userId"),console.log("state.isAuth",h.state.isAuth),this.router()}))}router(){const t=[{path:u.default.authorization.path,Controller:a.default},{path:u.default.textbook.path,Controller:s.default},{path:u.default.gameSprint.path,Controller:r.default},{path:u.default.gameAudio.path,Controller:l.default},{path:u.default.statistics.path,Controller:c.default},{path:u.default.testpage.path,Controller:d.default}].find((t=>window.location.href.includes(t.path)));this.root.innerHTML="",this.currentController=t?new t.Controller(this.root):new i.default(this.root)}}},369:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(n(27)),s=n(441),r=i(n(33));class l{constructor(t){this.view=new a.default(t),this.model=s.state,this.api=new r.default,this.register(),this.signIn(),this.chooseView(),this.logOut()}register(){this.view.frontBlock.container.addEventListener("click",(t=>o(this,void 0,void 0,(function*(){if("register-btn"===t.target.id){const t=this.view.frontBlock.container.querySelector("#email"),e=this.view.frontBlock.container.querySelector("#name"),n=this.view.frontBlock.container.querySelector("#password");yield this.api.registerUser(e.value,t.value,n.value).then((t=>{t.isSucceeded?(this.model.isAuth=!0,window.location.reload()):l.throwErrDescription(this.view.frontBlock.container.querySelector(".err-description"))}))}}))))}signIn(){this.view.frontBlock.container.addEventListener("click",(t=>o(this,void 0,void 0,(function*(){if("signIn-btn"!==t.target.id)return;const e=this.view.frontBlock.container.querySelector("#email"),n=this.view.frontBlock.container.querySelector("#password");yield this.api.signInUser(e.value,n.value).then((t=>{t.isSucceeded?(this.model.isAuth=!0,window.location.reload()):l.throwErrDescription(this.view.frontBlock.container.querySelector(".err-description"))}))}))))}chooseView(){this.view.frontBlockContent=this.model.isAuth?this.view.authorizedUsersContent:this.view.authorizationBlockContent,this.view.frontBlock.container.append(this.view.frontBlockWrapper.container),this.view.frontBlockWrapper.container.innerHTML=this.view.frontBlockContent,this.view.frontBlock.container.addEventListener("click",(t=>{const e=t.target;"P"===e.tagName&&("register-link"===e.id?this.view.frontBlockContent=this.view.authorizationBlockContent:this.view.frontBlockContent=this.view.registrationBlockContent,this.view.frontBlock.container.append(this.view.frontBlockWrapper.container),this.view.frontBlockWrapper.container.innerHTML=this.view.frontBlockContent)}))}logOut(){this.view.frontBlock.container.addEventListener("click",(t=>o(this,void 0,void 0,(function*(){"log-out"===t.target.id&&(localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),this.model.isAuth=!1,window.location.reload())}))))}static throwErrDescription(t){t.classList.contains("hide")&&t.classList.remove("hide"),t.classList.add("visible"),setTimeout((()=>{t.classList.contains("visible")&&t.classList.remove("visible"),t.classList.add("hide")}),3e3)}}e.default=l},536:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=o(n(715)),a=n(441);e.default=class{constructor(t){this.view=new i.default(t),this.model=a.state}}},311:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=o(n(425)),a=n(441);e.default=class{constructor(t){this.view=new i.default(t),this.model=a.state}}},994:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(n(585)),s=n(441),r=n(911),l=n(641);class c{constructor(t){this.audio=new Audio,this.view=new a.default(t),this.model=s.state,this.totalTime=30,this.currentWordIndex=0,this.correctCount=0,this.incorrectCount=0,this.level=0,this.pageStart=1,this.isGameStarted=!1,this.containerListener()}resetValues(){this.totalTime=30,this.currentWordIndex=0,this.correctCount=0,this.incorrectCount=0,this.isGameStarted=!1}containerListener(){this.view.frontBlock.container.addEventListener("click",(t=>o(this,void 0,void 0,(function*(){if(this.isGameStarted){const e=t.target;"BUTTON"===e.tagName&&(e.classList.contains("right-btn")?this.checkAnswer(!0):e.classList.contains("wrong-btn")&&this.checkAnswer(!1))}else{const e=t.target.closest("#start-sprint-btn"),n=t.target.closest("#restart-sprint-btn");if(e){const t=document.querySelector('input[name="sprint-level"]:checked');this.level=+t.value,this.pageStart=1,this.matchingWords=yield this.getWords(this.level,this.pageStart),this.view.frontBlockWrapper.container.innerHTML=l.FRONT_BLOCK_CONTENT_GAME,this.startGame()}else n&&(this.view.frontBlockWrapper.container.innerHTML=l.FRONT_BLOCK_CONTENT_START)}}))))}checkAnswer(t){if(!this.matchingWords||this.totalTime<=0)return;const e=this.matchingWords[this.currentWordIndex],n=document.getElementById("score-count"),o=document.querySelector(".alert-right"),i=document.querySelector(".alert-wrong");e.match===t?(this.audio.src="../../../assets/correct-sound.mp3",this.audio.play(),this.correctCount+=1,n.innerHTML=""+(+n.innerHTML+10),"fadeOut1"===o.style.animationName?o.style.animationName="fadeOut2":o.style.animationName="fadeOut1"):(this.audio.src="../../../assets/incorrect-sound.mp3",this.audio.play(),this.incorrectCount+=1,n.innerHTML=""+(+n.innerHTML-10<0?0:+n.innerHTML-10),"fadeOut1"===i.style.animationName?i.style.animationName="fadeOut2":i.style.animationName="fadeOut1"),this.nextWord()}nextWord(){return o(this,void 0,void 0,(function*(){if(this.matchingWords){if(this.currentWordIndex+=1,this.currentWordIndex>=this.matchingWords.length){if(this.currentWordIndex=0,this.pageStart+=2,this.pageStart>30)return;this.matchingWords=yield this.getWords(this.level,this.pageStart)}this.setWords()}}))}setWords(){if(!this.matchingWords||!1===this.isGameStarted)return;const t=this.matchingWords[this.currentWordIndex];document.getElementById("en-word").innerHTML=t.eng,document.getElementById("ru-word").innerHTML=t.ru}calculateResult(){const t=this.correctCount+this.incorrectCount;let e;return e=t>0?100*this.correctCount/t:0,Math.round(e)}updateTime(){if(!1!==this.isGameStarted)if(document.getElementById("sprint-timer").innerHTML=`${this.totalTime}`,this.totalTime<=0){this.isGameStarted=!1,this.view.frontBlockWrapper.container.innerHTML=l.FRONT_BLOCK_CONTENT_MODAL;const t=this.calculateResult();document.getElementById("percent-circle").style.strokeDashoffset=(4.4*(100-t)).toString(),document.getElementById("percentage-amount").innerHTML=t.toString(),document.getElementById("correct-count").innerHTML=this.correctCount.toString(),document.getElementById("incorrect-count").innerHTML=this.incorrectCount.toString()}else this.totalTime-=1,this.timer=setTimeout(this.updateTime.bind(this),1e3)}startGame(){return o(this,void 0,void 0,(function*(){this.resetValues(),this.isGameStarted=!0,this.setWords(),this.timer=setTimeout(this.updateTime.bind(this),1e3)}))}static shuffle(t){const e=t;for(let n=t.length-1;n>0;n-=1){const o=Math.floor(Math.random()*(n+1)),i=e[n];e[n]=t[o],e[o]=i}return e}getWords(t,e){return o(this,void 0,void 0,(function*(){const n=yield(0,r.getWordsTextbook)(t,e,this.model.isAuth),o=yield(0,r.getWordsTextbook)(t,e+1,this.model.isAuth);this.model.words=n.concat(o);const i=this.model.words.map((t=>{const e=Object.create(null);return Object.assign(e,{eng:t.word},{ru:t.wordTranslate},{match:!0}),e})),a=c.shuffle(i),s=a.length/2;for(let t=0;t<s;t+=1){const e=a[t],n=a[a.length-1-t];e.ru=n.ru,e.match=!1}return c.shuffle(a)}))}}e.default=c},613:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=o(n(883)),a=n(441);e.default=class{constructor(t){this.view=new i.default(t),this.model=a.state}}},941:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(n(296)),s=n(441);e.default=class{constructor(t){this.view=new a.default(t),this.model=s.state,this.customEventListener()}customEventListener(){this.view.frontBlock.container.addEventListener("click",(t=>o(this,void 0,void 0,(function*(){t.target}))))}}},810:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=i(n(207)),s=n(441),r=n(911);e.default=class{constructor(t){this.audio=new Audio,this.audioExample=new Audio,this.audioMeaning=new Audio,this.model=s.state,this.view=new a.default(t),this.containerListener(),this.handleWordsUpdate()}handleWordsUpdate(){return o(this,void 0,void 0,(function*(){this.model.textbookShowDifficult?this.model.words=yield(0,r.filterDifficultWords)():this.model.textbookShowLearned?this.model.words=yield(0,r.filterLearnedWords)():this.model.words=yield(0,r.getWordsTextbook)(this.model.textbookGroup,this.model.textbookPage,this.model.isAuth),this.renderWordsTextbookView()}))}renderWordsTextbookView(){this.pauseAudio(),this.view.renderTextbook(this.model.textbookGroup,this.model.textbookPage,this.model.textbookMaxPage,this.model.words,this.model.isAuth,this.model.textbookShowDifficult,this.model.textbookShowLearned)}pauseAudio(){this.audio.pause(),this.audioMeaning.pause(),this.audioExample.pause()}handleAudio(t){const e=t.getAttribute("data-audio"),n=t.getAttribute("data-audio-meaning"),o=t.getAttribute("data-audio-example");e&&n&&o&&(this.audio.src=e,this.audioMeaning.src=n,this.audioExample.src=o,this.audio.addEventListener("ended",(()=>{this.audioMeaning.play()})),this.audioMeaning.addEventListener("ended",(()=>{this.audioExample.play()})),this.audio.play())}handleGroupsAndPagination(t){this.model.textbookShowDifficult=!1,this.model.textbookShowLearned=!1;const e=t.getAttribute("data-state"),n=t.getAttribute("data-value");e&&n&&(this.model[e]=parseInt(n,10),"textbookGroup"===e&&(this.model.textbookPage=0),this.handleWordsUpdate())}handleDifficultWords(){return o(this,void 0,void 0,(function*(){this.model.textbookShowDifficult=!0,this.model.textbookShowLearned=!1,this.handleWordsUpdate()}))}handleLearnedWords(){return o(this,void 0,void 0,(function*(){this.model.textbookShowDifficult=!1,this.model.textbookShowLearned=!0,this.handleWordsUpdate()}))}handleAddDifficult(t){return o(this,void 0,void 0,(function*(){yield(0,r.createDifficultWord)(t.getAttribute("data-add-difficult")),this.handleWordsUpdate()}))}handleAddLearned(t){return o(this,void 0,void 0,(function*(){yield(0,r.createLearnedWord)(t.getAttribute("data-add-learned")),this.handleWordsUpdate()}))}handleRemDifficult(t){return o(this,void 0,void 0,(function*(){yield(0,r.removeDifficultWord)(t.getAttribute("data-rem-difficult")),this.handleWordsUpdate()}))}handleRemLearned(t){return o(this,void 0,void 0,(function*(){yield(0,r.removeLearnedWord)(t.getAttribute("data-rem-learned")),this.handleWordsUpdate()}))}handleSearch(t){const e=t.value.toLowerCase();this.view.frontBlockWrapper.container.querySelectorAll(".textbook-card-item").forEach((t=>{var n;const o=null===(n=t.querySelector(".textbook-card-word"))||void 0===n?void 0:n.textContent;0===e.length||(null==o?void 0:o.toLowerCase().includes(e))?t.classList.remove("hidden-card"):t.classList.add("hidden-card")}))}containerListener(){this.view.frontBlock.container.addEventListener("click",(t=>{const e=t.target,n=e.getAttribute("data-action");if(n)switch(n){case"textbook-audio":this.handleAudio(e);break;case"textbook-group":case"textbook-pagination":this.handleGroupsAndPagination(e);break;case"textbook-show-difficult":this.handleDifficultWords();break;case"textbook-show-learned":this.handleLearnedWords();break;case"textbook-add-difficult":this.handleAddDifficult(e);break;case"textbook-add-learned":this.handleAddLearned(e);break;case"textbook-rem-difficult":this.handleRemDifficult(e);break;case"textbook-rem-learned":this.handleRemLearned(e)}})),this.view.frontBlock.container.addEventListener("input",(t=>{const e=t.target;"search"===e.getAttribute("data-action")&&this.handleSearch(e)}))}}},33:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.base="https://rslang29.herokuapp.com/",this.users=`${this.base}users`,this.signin=`${this.base}signin`,this.registerUser=(t,e,o)=>n(this,void 0,void 0,(function*(){const n=yield fetch(this.users,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:o})}),i=yield n;let a;if(i.ok){const t=yield i.json();if((yield this.signInUser(t.email,o)).isSucceeded)return a={isSucceeded:!0,status:i.status,data:t},a}return a={isSucceeded:!1,status:i.status},a})),this.signInUser=(t,e)=>n(this,void 0,void 0,(function*(){const n=yield fetch(this.signin,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})}),o=yield n;let i;if(o.ok){const e=yield o.json();return yield this.setLocalStorage(e.userId,t,e.token,e.refreshToken),i={isSucceeded:!0,status:o.status},i}return i={isSucceeded:!1,status:o.status},i})),this.getAllWords=(t=1,e=1)=>n(this,void 0,void 0,(function*(){return(yield fetch(`${this.base}words?group=${t}&page=${e}`)).json()})),this.getWordById=t=>n(this,void 0,void 0,(function*(){return(yield fetch(`${this.base}words/${t}`)).json()})),this.setLocalStorage=(t,e,o,i)=>n(this,void 0,void 0,(function*(){return Object.assign(this,{userId:t,email:e,token:o,refreshToken:i}),localStorage.setItem("userId",t),localStorage.setItem("email",e),localStorage.setItem("token",o),localStorage.setItem("refreshToken",i),!0})),this.userId=localStorage.getItem("userId"),this.email=localStorage.getItem("email"),this.token=localStorage.getItem("token"),this.refreshToken=localStorage.getItem("refreshToken")}}},911:function(t,e){var n=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}l((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.removeLearnedWord=e.removeDifficultWord=e.filterLearnedWords=e.filterDifficultWords=e.createLearnedWord=e.createDifficultWord=e.getWordsTextbook=e.baseUrl=void 0,e.baseUrl="https://rslang29.herokuapp.com",e.getWordsTextbook=(t,o,i)=>n(void 0,void 0,void 0,(function*(){const n=`${e.baseUrl}/words?group=${t}&page=${o}`,a=localStorage.getItem("userId"),s=localStorage.getItem("token"),r=`${e.baseUrl}/users/${a}/aggregatedWords?group=${t}&page=${o}&wordsPerPage=20`,l=i?r:n,c=i?{method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}}:{method:"GET",headers:{Accept:"application/json"}},d=yield fetch(l,c);let u;if(i){const t=yield d.json();console.log("contentAuth",t),u=t[0].paginatedResults,console.log("content",u)}else u=yield d.json(),console.log("content",u);return u})),e.createDifficultWord=t=>n(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("userId"),o=localStorage.getItem("token"),i=`${e.baseUrl}/users/${n}/words/${t}`;if(!n||!o)return;const a={method:"POST",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"difficult",optional:{}})},s={method:"PUT",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"difficult",optional:{}})},r={method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json"}},l=yield fetch(i,r);if(200===l.status){const t=yield l.json();console.log("get",t)}const c=yield fetch(i,a);if(200===c.status){const t=yield c.json();console.log(t)}const d=yield fetch(i,s);if(200===d.status){const t=yield d.json();console.log(t)}})),e.createLearnedWord=t=>n(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("userId"),o=localStorage.getItem("token"),i=`${e.baseUrl}/users/${n}/words/${t}`;if(!n||!o)return;const a={method:"POST",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"easy",optional:{isLearned:"learned"}})},s={method:"PUT",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"easy",optional:{isLearned:"learned"}})},r=yield fetch(i,a);if(200===r.status){const t=yield r.json();console.log(t)}const l=yield fetch(i,s);if(200===l.status){const t=yield l.json();console.log(t)}})),e.filterDifficultWords=()=>n(void 0,void 0,void 0,(function*(){console.log("DIFF");const t=localStorage.getItem("userId"),n=localStorage.getItem("token"),o=`${e.baseUrl}/users/${t}/aggregatedWords?wordsPerPage=3600&filter={"userWord.difficulty":"difficult"}`,i={method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}},a=yield fetch(o,i),s=(yield a.json())[0].paginatedResults;return console.log("content",s),s})),e.filterLearnedWords=()=>n(void 0,void 0,void 0,(function*(){const t=localStorage.getItem("userId"),n=localStorage.getItem("token"),o=`${e.baseUrl}/users/${t}/aggregatedWords?wordsPerPage=3600&filter={"userWord.optional.isLearned":"learned"}`,i={method:"GET",withCredentials:!0,headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}},a=yield fetch(o,i),s=(yield a.json())[0].paginatedResults;return console.log("content",s),s})),e.removeDifficultWord=t=>n(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("userId"),o=localStorage.getItem("token"),i=`${e.baseUrl}/users/${n}/words/${t}`;if(!n||!o)return;const a={method:"PUT",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"easy",optional:{}})},s=yield fetch(i,a);if(200===s.status){const t=yield s.json();console.log(t)}})),e.removeLearnedWord=t=>n(void 0,void 0,void 0,(function*(){const n=localStorage.getItem("userId"),o=localStorage.getItem("token"),i=`${e.baseUrl}/users/${n}/words/${t}`;if(!n||!o)return;const a={method:"PUT",withCredentials:!0,headers:{Authorization:`Bearer ${o}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:"easy",optional:{}})},s=yield fetch(i,a);if(200===s.status){const t=yield s.json();console.log(t)}}))},441:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.state=e.State=void 0;class n{constructor(){this.isAuth=!0,this.textbookGroup=0,this.textbookPage=0,this.textbookMaxPage=29,this.textbookShowDifficult=!1,this.textbookShowLearned=!1,this.words=[],this.authWords={paginatedResults:[],totalCount:[]}}}e.State=n,e.state=new n},860:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={frontpage:{path:"frontpage",name:"Front Page"},authorization:{path:"authorization",name:"Authorization"},textbook:{path:"textbook",name:"Textbook"},statistics:{path:"statistics",name:"Statistics"},gameSprint:{path:"gamesprint",name:"Sprint Game"},gameAudio:{path:"gameaudio",name:"Audio Game"},testpage:{path:"testpage",name:"Test Page"}}},754:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,n,o){this.container=document.createElement(t),e&&this.container.classList.add(...e),n&&n.append(this.container),o&&(this.container.id=o)}destroyContainer(){this.container.remove()}}},297:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(99);const i=o(n(754));class a extends i.default{constructor(t){super("footer",["footer"],t),this.elemContent='<footer>\n      <p class="year-of-creation">&copy;2022</p>\n      <div class="authors-box">\n          <img src="./assets/github.png" alt="github" class="github-img">\n          <a href="https://github.com/kristykov" class="author">Kristina</a>\n          <a href="https://github.com/AnastasiyaPoleshuk" class="author">Anastasiya</a>\n          <a href="https://github.com/tlkv" class="author">Andrey</a>\n      </div>\n      <a href="https://rs.school/js/">\n        <img src="https://rs.school/images/rs_school_js.svg" alt="rs.school" class="rs-school">\n      </a>\n    </footer>',this.elemWrapper=new i.default("div",["container"]),this.elemWrapper.container.innerHTML=this.elemContent,this.container.append(this.elemWrapper.container)}}e.default=a},279:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(289);const i=o(n(754)),a=o(n(860));class s extends i.default{constructor(t){super("header",["header"],t),this.elemContent=`<nav class="navigation"> \n        <div class="title">\n          <a href="#frontpage">\n            <img src="./assets/icon.png" alt="icon" class="icon" />\n          </a>  \n          <h1 class="h1">RS-Lang</h1> \n        </div>       \n        <a href="#${a.default.frontpage.path}" class="menu-item">Home</a>\n        <a href="#${a.default.textbook.path}" class="menu-item">${a.default.textbook.name}</a>\n        <a href="#${a.default.gameSprint.path}" class="menu-item">${a.default.gameSprint.name}</a>\n        <a href="#${a.default.gameAudio.path}" class="menu-item">${a.default.gameAudio.name}</a>\n        <a href="#${a.default.statistics.path}" class="menu-item">${a.default.statistics.name}</a>\n        <a href="#${a.default.testpage.path}" class="menu-item">${a.default.testpage.name}</a>\n        <a href="#${a.default.authorization.path}" class="log-in"><i class="fa-solid fa-user"></i> Account</a>\n      </nav>`,this.elemWrapper=new i.default("div",["container"]),this.elemWrapper.container.innerHTML=this.elemContent,this.container.append(this.elemWrapper.container)}}e.default=s},27:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(961);const i=o(n(754)),a=o(n(279)),s=o(n(297));class r extends i.default{constructor(t){super("div",["authorization-view"],t),this.authorizedUsersContent=`<div class="authorization">\n    <img src="/assets/userIcon.png" alt="authorization img" class="authorization-img">\n    <p class='auth-info'>You are authorized as </br>${localStorage.getItem("email")}</p>\n    <button class="log-out" id="log-out"><i class="fa-solid fa-arrow-right-from-bracket"></i>\n    log-out</button>\n  </div>`,this.authorizationBlockContent='<section class="authorization-box">\n      <div class="err-description">OOPS! Incorrect e-mail or password</div>\n      <img src="/assets/authorization-img.png" alt="authorization img" class="authorization-img">\n      <div class="authorization">\n        <p id="sign-in-link" class="view">Don\'t have an account yet? Register now!</p>\n        <h2 class="authorization-title">Nice to see you again!</h2>\n        <span class="inputs-name">Email: <input type="email" class="text-input inputs" id="email"></span> \n        <span class="inputs-name">Password: <input type="password" class="password-input inputs" id="password"></span> \n        <button class="signIn-btn" id="signIn-btn">sign in</button>\n      </div>\n    </section>',this.registrationBlockContent=' <section class="authorization-box">\n      <div class="err-description">OOPS! Incorrect e-mail or password</div>\n      <img src="/assets/authorization-img.png" alt="authorization img" class="authorization-img">\n      <div class="authorization">\n        <p id="register-link" class="view">Do you already have an account? Sign in!</p>\n        <h2 class="authorization-title">Register and get access to additional features of the application</h2>\n        <span class="inputs-name">Name: <input type="text" class="text-input inputs" id="name"></span> \n        <span class="inputs-name">Email: <input type="email" class="text-input inputs" id="email"></span>\n        <div class="inputs-name">Password: <input type="password" class="password-input inputs" id="password"><br>\n        <span>password length must be more than 8 characters</span>\n        </div> \n        <button class="register-btn" id="register-btn">Register</button>\n      </div>\n    </section>',this.frontBlockWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.frontBlock=new i.default("div",["authorization-block","app-center-block"],this.container),this.footer=new s.default(this.container),this.frontBlockContent=""}}e.default=r},715:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(233);const i=o(n(754)),a=o(n(279)),s=o(n(297));class r extends i.default{constructor(t){super("div",["front-view"],t),this.SectionMainContent='<section class="main-page"> \n      <div class="greetings-box"> \n        <h2 class="greetings">Hey! Do you want to learn English easily? You to us!</h2>\n        <p>RS Lang - an application for learning English in an easy game form.  \n          Soon you will be able to watch your favorite series in the original  \n          without waiting for the voice acting! What are you waiting for? Let\'s go! \n        </p> \n        <button class="learn-more">Learn more</button> \n      </div> \n      <img src="./assets/main-img.png" alt="main-img" class="main-img"></img> \n    </section>',this.SectionMainWrapper=new i.default("div",["container"]),this.SectionAdvatagesContent='<section class="advantages">\n      <div class="advantage">More than 3000 words, <br> divided into 6 sections.</div>\n      <div class="advantage advantage-border">Daily statistics of learned words!<br> Improve it every day and reach new heights</div>\n      <div class="advantage">Learning words in a playful way!<br> two mini-games for better word memorization</div>\n    </section>',this.SectionAdvatagesWrapper=new i.default("div",["container"]),this.SectionInfoContent='<section class="about-us">\n      <div class="about-us-box">\n        <h2 class="our-team-title">Our team</h2>\n        <div class="team-card-box">\n          <div class="teammate">\n            <img src="https://avatars.githubusercontent.com/u/42784731?v=4" alt="kristina" class="teammate-img" >\n            <div class="info-box">\n              <a  href="https://github.com/kristykov" class="name">Kristina</a>\n              <span class="position">Position</span>\n              <p class="contribution-description">contribution-description</p>\n              </div>\n          </div>\n          <div class="teammate">\n            <img src="https://avatars.githubusercontent.com/u/54753081?v=4" alt="andrey" class="teammate-img">\n            <div class="info-box">\n              <a href="https://github.com/tlkv"class="name">Andrey</a>\n              <span class="position">Position</span>\n              <p class="contribution-description">contribution-description</p>\n            </div>  \n          </div>\n          <div class="teammate">\n            <img src="./assets/anastasiya.jpg" alt="anastasiya" class="teammate-img">\n            <div class="info-box">\n              <a href="https://github.com/AnastasiyaPoleshuk" class="name">Anastasiya</a>\n              <span class="position">Position</span>\n              <p class="contribution-description">contribution-description</p>\n            </div>\n          </div>\n        </div>\n      </div>\n  </section>',this.SectionInfoWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.SectionMain=new i.default("div",["front-block","app-center-block"],this.container),this.SectionMain.container.append(this.SectionMainWrapper.container),this.SectionMainWrapper.container.innerHTML=this.SectionMainContent,this.SectionAdvatages=new i.default("div",["advantages-block","app-center-block"],this.container),this.SectionAdvatages.container.append(this.SectionAdvatagesWrapper.container),this.SectionAdvatagesWrapper.container.innerHTML=this.SectionAdvatagesContent,this.SectionInfo=new i.default("div",["info-block"],this.container),this.SectionInfo.container.append(this.SectionInfoWrapper.container),this.SectionInfoWrapper.container.innerHTML=this.SectionInfoContent,this.footer=new s.default(this.container)}}e.default=r},425:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(414);const i=o(n(754)),a=o(n(279));class s extends i.default{constructor(t){super("div",["game-audio-view"],t),this.frontBlockContent="Audio Game \n  Page",this.frontBlockWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.frontBlock=new i.default("div",["game-audio-block","app-center-block"],this.container),this.frontBlock.container.append(this.frontBlockWrapper.container),this.frontBlockWrapper.container.innerHTML=this.frontBlockContent}}e.default=s},585:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(934);const i=o(n(754)),a=o(n(279)),s=n(641);class r extends i.default{constructor(t){super("div",["game-sprint-view"],t),this.frontBlockContent=s.FRONT_BLOCK_CONTENT_START,this.frontBlockWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.frontBlock=new i.default("div",["game-sprint-block","app-center-block"],this.container),this.frontBlock.container.append(this.frontBlockWrapper.container),this.frontBlockWrapper.container.innerHTML=this.frontBlockContent}}e.default=r},641:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FRONT_BLOCK_CONTENT_MODAL=e.FRONT_BLOCK_CONTENT_GAME=e.FRONT_BLOCK_CONTENT_START=void 0,e.FRONT_BLOCK_CONTENT_START='<section class="sprint-settings-page">\n<div class="sprint-settings-container wide">\n<p class="sprint-settings-title">Спринт</p>\n<p class="sprint-settings-description">Спринт - тренировка на скорость. Попробуй угадать как можно больше слов за 30 секунд.</p>\n</div>\n<div class="sprint-settings-container">\n<p class="sprint-settings-title-levels">Выберите уровень:</p>\n<form name="form1" id="sprint-levels" class="sprint-settings-levels-btns">\n<label>\n  <input type="radio" name="sprint-level" value="0" class="level-btn"></input>\n  <div class="level-circle">A1</div>\n</label>\n<label>\n  <input type="radio" name="sprint-level" value="1" class="level-btn"></input>\n  <div class="level-circle">A2</div>\n</label>\n<label>\n  <input type="radio" name="sprint-level" value="2" class="level-btn"></input>\n  <div class="level-circle">B1</div>\n  </label>\n  <label>\n  <input type="radio" name="sprint-level" value="3" class="level-btn"></input>\n  <div class="level-circle">B2</div>\n  </label>\n  <label>\n  <input type="radio" name="sprint-level" value="4" class="level-btn"></input>\n  <div class="level-circle">C1</div>\n  </label>\n  <label>\n  <input type="radio" name="sprint-level" value="5" class="level-btn"></input>\n  <div class="level-circle">C2</div>\n  </label>\n</form>\n</div>\n<button class="start-sprint-btn" id="start-sprint-btn">Начать</button>\n</section>',e.FRONT_BLOCK_CONTENT_GAME='<section class="sprint-game">\n<div class="timer"> <span class="timer-icon"><ion-icon name="timer-outline"></ion-icon></span><span class="timer" id="sprint-timer">30</span></div>\n<div class="scores"><div id="score-info" class="score-info">Умножение: 10</div><div id="score-count" class="score-count">0</div>\n</div>\n<div class="score-alert">\n<ion-icon class="alert-right" name="checkmark-circle-outline"></ion-icon>\n<ion-icon class="alert-wrong" name="close-circle-outline"></ion-icon>\n</div> \n<div class="words-combinations"><span class="en-word" id="en-word">totally</span><span class="middle-word">это</span><span class="ru-word" id="ru-word">кошка</span></div>\n<div class="answer-btns">\n<button class="right-btn" id="sprint-right-btn">верно</button>\n<button class="wrong-btn" id="sprint-wrong-btn">неверно</button>\n</div>\n</section>',e.FRONT_BLOCK_CONTENT_MODAL='<section class="sprint-game-modal">\n<div class="sprint-game-modal-content">\n<div class="modal-upper-btns">\n<button class="to-results-btn">результат</button>\n<button class="to-see-words-btn">посмотреть мои слова</button>\n</div>\n<div class="modal-results">\n<div class="card">\n<p class="result-message">Хороший результат! Но ты можешь лучше</p>\n<p class="result-statistics"><span id="correct-count">11</span> слов изучено, <span id="incorrect-count">4</span> слова на изучении</p>\n  <div class="box"><div class="percent">\n      <svg><circle cx="70" cy="70" r="70"></circle><circle id="percent-circle" cx="70" cy="70" r="70"></circle><svg>\n          <div class="num">\n            <p class="percentage"><span id="percentage-amount">90</span>%</p>\n            <p class="learned-words">изученных слов</p>\n          </div>\n    </div>\n        <p class="text"></p>\n  </div>\n</div>\n</div>\n<div class="modal-lower-btns">\n<button class="module-lower-btn" id="restart-sprint-btn">сыграть еще раз</button>\n<button class="module-lower-btn" id="to-text-book-btn"><a href="#textbook" class="module-lower-btn-ref">перейти в учебник</a></button>\n</div>\n</div>\n</section>'},883:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(697);const i=o(n(754)),a=o(n(279)),s=o(n(297));class r extends i.default{constructor(t){super("div",["statistics-view"],t),this.frontBlockContent="Stats \n  Page",this.frontBlockWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.frontBlock=new i.default("div",["statistics-block","app-center-block"],this.container),this.footer=new s.default(this.container),this.frontBlock.container.append(this.frontBlockWrapper.container),this.frontBlockWrapper.container.innerHTML=this.frontBlockContent}}e.default=r},296:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(470);const i=o(n(754)),a=o(n(279)),s=o(n(297));class r extends i.default{constructor(t){super("div",["test-view"],t),this.frontBlockContent="Test Page",this.frontBlockWrapper=new i.default("div",["container"]),this.header=new a.default(this.container),this.frontBlock=new i.default("div",["test-block","app-center-block"],this.container),this.footer=new s.default(this.container),this.frontBlock.container.append(this.frontBlockWrapper.container),this.frontBlockWrapper.container.innerHTML=this.frontBlockContent}}e.default=r},207:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(571);const i=o(n(754)),a=o(n(279)),s=o(n(297)),r=n(911);class l extends i.default{constructor(t){super("div",["textbook-view"],t),this.frontBlockWrapper=new i.default("div",["container"]),this.groupsAmount=6,this.header=new a.default(this.container),this.frontBlock=new i.default("div",["textbook-block","app-center-block"],this.container),this.footer=new s.default(this.container),this.frontBlock.container.append(this.frontBlockWrapper.container)}renderTextbook(t,e,n,o,i,a,s){const r=o.every((t=>{var e,n;return"learned"===(null===(n=null===(e=null==t?void 0:t.userWord)||void 0===e?void 0:e.optional)||void 0===n?void 0:n.isLearned)})),c=!a&&!s,d=this.renderButtons(t,i,a,s,r),u=l.renderPagination(e,n),h=l.renderWordCards(o,i,a,s);let p=`Textbook - Group ${t+1}`;a?p=`Difficult words - <span class="additional-counter">\n      ${o.length}</span>`:s&&(p=`Learned words - <span class="additional-counter">\n      ${o.length}</span>`),r?this.frontBlock.container.classList.add("all-learned"):this.frontBlock.container.classList.remove("all-learned"),a?this.frontBlock.container.classList.add("all-difficult"):this.frontBlock.container.classList.remove("all-difficult");const f=`\n    <div class="textbook-categories-wrapper">\n      ${d}\n    </div>\n    <h2 class="textbook-view-title">${p}</h2>\n    ${c?"":'<input type="search"\n    class="adv-search" autocomplete="off" placeholder="Search words" data-action="search">'}\n    <div class="textbook-pages-wrapper">\n      ${c?u:""}\n    </div>\n    <div class="textbook-words-wrapper">\n      ${h}\n    </div>\n    <div class="textbook-pages-wrapper">\n    ${c?u:""}\n    </div>`;this.frontBlockWrapper.container.innerHTML=f}renderButtons(t,e,n,o,i){const a=i||n||o;let s="";for(let e=0;e<this.groupsAmount;e+=1){let i="",a=`data-action="textbook-group" data-state="textbookGroup" data-value="${e}"`;t!==e||n||o||(i=" active",a=""),s+=`<button class="textbook-categories-button${i}"\n      ${a}>\n      <div class="button-inner-left" ${a}>Group</div>\n      <div class="button-inner-right button-inner-color-${e+1}"\n      ${a}>${e+1}</div></button>`}let r=`\n      <a href="#gamesprint" class="textbook-categories-button button-start-sprint-game\n      ${a?"disabled-link":""}"\n      data-action="start-sprint-game-textbook">Start Sprint Game</a>\n      <a href="#gameaudio" class="textbook-categories-button button-start-audio-game \n      ${a?"disabled-link":""}"\n      data-action="start-audio-game-textbook">Start Audio Game</a>`;return e&&(r+=`<button class="textbook-categories-button button-diff-words\n      ${n?" active":""}" data-action="textbook-show-difficult">\n      Difficult Words</button>\n      <button class="textbook-categories-button button-learned-words\n      ${o?" active":""} ${i?" all-learned-button":""}"\n      data-action="textbook-show-learned">\n      Learned Words</button>`),`\n    <div class="categories-buttons-container">\n      ${s}\n    </div>\n    <div class="additional-buttons-container">\n      ${r}\n    </div>\n    `}static renderPagination(t,e){return`\n    <button class="textbook-pages-button pagination-first"${0!==t?'data-action="textbook-pagination" data-state="textbookPage" data-value="0"':""}>\n      <i class="fa-solid fa-angles-left"></i>\n    </button>\n    <button class="textbook-pages-button pagination-prev"\n      ${0!==t?`data-action="textbook-pagination" data-state="textbookPage"\n    data-value="${t-1}"`:""}><i class="fa-solid fa-angle-left"></i>\n    </button>\n    <button class="textbook-pages-button pagination-current">\n      ${t+1}/${e+1}\n    </button>\n    <button class="textbook-pages-button pagination-next"\n      ${t!==e?`data-action="textbook-pagination" data-state="textbookPage" data-value="\n    ${t+1}"`:""}><i class="fa-solid fa-angle-right"></i>\n    </button>\n    <button class="textbook-pages-button pagination-last"\n      ${t!==e?`data-action="textbook-pagination" data-state="textbookPage" data-value="\n    ${e}"`:""}> <i class="fa-solid fa-angles-right"></i>\n    </button>`}static renderWordCards(t,e,n,o){return console.log("words",t),t.map((t=>(t=>{const i=e&&t.userWord&&"difficult"===t.userWord.difficulty,a=e&&t.userWord&&t.userWord.optional&&"learned"===t.userWord.optional.isLearned,s=n||o,l=e?t._id:t.id,c=`\n      <button class="textbook-diff-button button-card-color-${t.group+1}"\n      data-add-difficult="${l}"\n      data-action="textbook-add-difficult">+ Add as difficult</button>\n      <button class="textbook-learned-button button-card-color-${t.group+1}"\n      data-add-learned="${l}"\n      data-action="textbook-add-learned">+ Add as learned</button>`,d=`\n      <button class="textbook-diff-button button-card-color-${t.group+1}"\n      data-rem-difficult="${l}"\n      data-action="textbook-rem-difficult">- Remove as difficult</button>`,u=`\n      <button class="textbook-learned-button button-card-color-${t.group+1}"\n      data-rem-learned="${l}"\n      data-action="textbook-rem-learned">- Remove as learned</button>`,h=`${s?"":c}\n          ${e&&n?d:""}\n          ${e&&o?u:""}\n          <h2 class="textbook-game-answers">\n          <i class="fa-solid fa-trophy color-group-${t.group+1}"></i> Game Answers</h2>\n          <div class="textbook-game-res res-textbook-${t.group+1}">Sprint Game - 0 of N</div>\n          <div class="textbook-game-res \n          res-textbook-${t.group+1}"> Audio Challenge - 0 of N</div>`;return`\n      <div class="textbook-card-item item-shadow-${t.group+1}\n      ${a?"textbook-card-learned":""}"\n        data-id ="${l}"\n        data-group ="${t.group}"\n        data-page ="${t.page}">\n        <div class="textbook-card-img" style="background-image: url(${r.baseUrl}/${t.image}");>\n        </div>\n        <div class="textbook-card-content">\n          <h2 class="textbook-card-word ${i?"textbook-card-difficult":""}">\n          ${t.word}</h2>\n          <h3 class="textbook-card-translate">${t.wordTranslate}</h3>\n          <h4 class="textbook-card-transcription">${t.transcription}\n            <button class="textbook-audio"\n            data-action="textbook-audio" data-audio ="${r.baseUrl}/${t.audio}"\n            data-audio-meaning ="${r.baseUrl}/${t.audioMeaning}" \n            data-audio-example ="${r.baseUrl}/${t.audioExample}">\n            <i class="fas fa-volume-up color-group-${t.group+1}"></i></button>\n          </h4>\n          ${e?h:""}\n          <h2 class="textbook-meaning-title">\n          <i class="fa-solid fa-book color-group-${t.group+1}"></i> Meaning</h2>\n          <p class="textbook-meaning-content">${t.textMeaning}</p>\n          <p class="textbook-meaning-content">${t.textMeaningTranslate}</p>\n          <h2 class="textbook-example-title">\n          <i class="fa-solid fa-comment color-group-${t.group+1}"></i> Example</h2>\n          <p class="textbook-example-content">${t.textExample}</p>\n          <p class="textbook-example-content">${t.textExampleTranslate}</p>\n        </div>\n      </div>\n      `})(t))).join("")}}e.default=l},303:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(857),n(655);const i=o(n(477)),a=document.getElementById("root");a&&new i.default(a).start()}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(303)})();